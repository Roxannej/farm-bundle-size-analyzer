{"version":3,"file":"normalize-css.js","sourceRoot":"","sources":["../../../src/config/normalize-config/normalize-css.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,WAAW,EAAE,MAAM,iBAAiB,CAAC;AAG9C,MAAM,UAAU,YAAY,CAC1B,MAAkB,EAClB,mBAAwC;IAExC,IAAI,MAAM,CAAC,WAAW,EAAE,GAAG,EAAE,OAAO,EAAE;QACpC,mBAAmB,CAAC,MAAM,EAAE,mBAAmB,CAAC,CAAC;KAClD;AACH,CAAC;AAED,SAAS,mBAAmB,CAC1B,MAAkB,EAClB,mBAAwC;IAExC,IAAI,MAAM,CAAC,WAAW,CAAC,GAAG,CAAC,OAAO,CAAC,gBAAgB,EAAE;QACnD,MAAM,gBAAgB,GAAG,MAAM,CAAC,WAAW,CAAC,GAAG,CAAC,OAAO,CAAC,gBAAgB,CAAC;QACzE,OAAO,mBAAmB,CAAC,GAAG,CAAC,OAAO,CAAC,gBAAgB,CAAC;QACxD,IAAI,OAAO,gBAAgB,KAAK,QAAQ,EAAE;YACxC,mBAAmB,CAAC,MAAM,CAAC,WAAW,CAAC,qBAAqB,CAAC;gBAC3D,IAAI,CAAC,SAAS,CAAC,gBAAgB,CAAC,CAAC;SACpC;KACF;AACH,CAAC","sourcesContent":["import { CUSTOM_KEYS } from '../constants.js';\nimport { ResolvedCompilation, UserConfig } from '../types.js';\n\nexport function normalizeCss(\n  config: UserConfig,\n  resolvedCompilation: ResolvedCompilation\n) {\n  if (config.compilation?.css?.modules) {\n    normalizeCssModules(config, resolvedCompilation);\n  }\n}\n\nfunction normalizeCssModules(\n  config: UserConfig,\n  resolvedCompilation: ResolvedCompilation\n) {\n  if (config.compilation.css.modules.localsConversion) {\n    const localsConvention = config.compilation.css.modules.localsConversion;\n    delete resolvedCompilation.css.modules.localsConversion;\n    if (typeof localsConvention === 'string') {\n      resolvedCompilation.custom[CUSTOM_KEYS.css_locals_conversion] =\n        JSON.stringify(localsConvention);\n    }\n  }\n}\n"]}